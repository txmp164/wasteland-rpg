import type { StoryEvent } from '../types/game';

export const STORY_EVENTS: StoryEvent[] = [
  {
    id: 'injured_scavenger',
    text: '你发现一个受伤的拾荒者靠在墙边，腹部的伤口正在渗血。',
    choices: [
      {
        id: 'help',
        text: '救助 (消耗急救包)',
        req: { item: 'medkit' },
        resultText: '你包扎了他的伤口。他感激地塞给你一些东西。',
        mood: 20,
        sanity: 5,
        lootChance: 1.0,
      },
      {
        id: 'rob',
        text: '打劫',
        resultText: '你趁火打劫。他试图反抗...',
        combat: true,
        enemyId: 'weak_scavenger',
        mood: -10,
        sanity: -10,
      },
      {
        id: 'ignore',
        text: '无视',
        resultText: '你从他身边走过，假装没听见他的呻吟。',
        mood: -5,
        sanity: -2,
      },
    ],
  },
  {
    id: 'abandoned_shrine',
    text: '废墟深处有一座堆满电子元件的奇怪祭坛，散发着微光。',
    choices: [
      {
        id: 'pray',
        text: '祈祷 (消耗5饱食)',
        req: { stat: 'satiety', val: 5 },
        resultText: '你感到一阵平静，但也更加饥饿。',
        mood: 10,
        sanity: 20,
      },
      {
        id: 'desecrate',
        text: '搜刮祭坛',
        resultText: '你拿走了上面的零件，但感觉有什么东西跟上了你...',
        combat: true,
        enemyId: 'glitch',
        mood: 0,
        sanity: -15,
        lootChance: 1.0,
      },
      {
        id: 'leave',
        text: '离开',
        resultText: '不作死就不会死。',
        mood: 0,
        sanity: 0,
      },
    ],
  },
  {
    id: 'vending_machine',
    text: '一台"GENIUS牌营养配给机"歪斜在墙边，屏幕忽闪忽灭，隐约还有存货咣当作响。',
    choices: [
      {
        id: 'kick',
        text: '用力踹一脚（50%成功）',
        resultText: '',
        luckCheck: {
          threshold: 0.5,
          successText: '嘭！掉出来一堆罐头和一叠钞票，机器随即爆炸起火。大赚！',
          failText: '踹坏了脚趾。机器发出刺耳警报后彻底断电，什么都没有。',
          successMood: 20,
          successMoney: 150,
          successLootChance: 1.0,
          failMood: -10,
          failHp: -8,
        },
      },
      {
        id: 'hack',
        text: '按标准流程输入密码 0000',
        resultText: '"密码错误。剩余尝试次数：0。账户已锁定。"屏幕黑掉了。',
        mood: -5,
        sanity: -3,
      },
      {
        id: 'walk',
        text: '走开，不是你的就不要碰',
        resultText: '你感觉到了一种久违的道德感，但胃更饿了。',
        sanity: 5,
        mood: -3,
      },
    ],
  },
  {
    id: 'wasteland_philosopher',
    text: '一个穿着破西装、戴着歪斜领带的男人拦住了你的去路，自我介绍叫"破产教授"，要跟你辩论末世的意义。',
    choices: [
      {
        id: 'debate',
        text: '认真辩论（消耗10理智）',
        req: { stat: 'sanity', val: 10 },
        resultText: '你们激烈交锋了半小时，他最后说"好有道理"然后跑路了，留下一本他自己写的书。',
        mood: 15,
        sanity: 10,
        lootChance: 0.7,
      },
      {
        id: 'agree',
        text: '无脑附和他所有观点',
        resultText: '"你真是我遇到最聪明的人！"他感动得热泪盈眶，把口袋里仅剩的零钱全塞给了你。',
        mood: 5,
        money: 80,
      },
      {
        id: 'ignore',
        text: '直接无视，绕道走',
        resultText: '"等等——！"他在身后喊，但你已经不在了。心情微妙。',
        mood: -5,
        sanity: 3,
      },
    ],
  },
  {
    id: 'survey_form',
    text: '地上有一张防水调查问卷，第一题：请问您末日前从事什么工作？第二题：您觉得生存下来的理由是什么？',
    choices: [
      {
        id: 'honest',
        text: '如实填写（50%感悟）',
        resultText: '',
        luckCheck: {
          threshold: 0.5,
          successText: '填写过程中你想通了一些事情，内心久违地平静了。',
          failText: '填到第二题时你陷入了存在主义危机，笔掉了，人也僵在原地。',
          successSanity: 15,
          successMood: 10,
          failSanity: -10,
          failMood: -8,
        },
      },
      {
        id: 'creative',
        text: '随便乱填（职业：末日审计师）',
        resultText: '感觉良好，不知道为什么。',
        mood: 8,
        sanity: 5,
      },
      {
        id: 'trash',
        text: '揉成一团扔掉',
        resultText: '没什么意义的东西。继续前进。',
        mood: 0,
      },
    ],
  },
  {
    id: 'three_headed_cat',
    text: '一只三头辐射猫坐在路中间，六只眼睛同时盯着你。中间那个头在打呼噜，左边那个在呲牙，右边那个睡着了。',
    choices: [
      {
        id: 'pet',
        text: '尝试抚摸（60%成功）',
        resultText: '',
        luckCheck: {
          threshold: 0.6,
          successText: '三个头同时开始蹭你，你获得了一种难以名状的温暖。它离开时留下了什么东西。',
          failText: '左边那个头咬了你一口。辐射伤，但也许值得。',
          successMood: 25,
          successSanity: 10,
          successLootChance: 0.8,
          failHp: -12,
          failMood: -5,
        },
      },
      {
        id: 'feed',
        text: '喂食（消耗1急救包）',
        req: { item: 'medkit' },
        resultText: '你把急救包里的纱布喂给它们，三个头各叼走一块，然后并排坐在那里舔爪子。没有谢谢。',
        mood: 15,
        sanity: 8,
      },
      {
        id: 'detour',
        text: '绕道走',
        resultText: '你感觉六道目光一路跟着你走了很久。',
        mood: -3,
        sanity: -5,
      },
    ],
  },
  {
    id: 'underground_radio',
    text: '废墟地板下传来微弱的音乐声，是一首战前的老情歌。刨开碎石，你发现了一台还在运行的地下广播站，主持人位置上坐着一副骷髅。',
    choices: [
      {
        id: 'listen',
        text: '坐下来听一会儿',
        resultText: '你靠着骷髅主持人坐了大约十分钟。歌很好听，眼眶有点热。',
        mood: 20,
        sanity: 15,
      },
      {
        id: 'broadcast',
        text: '接过麦克风，说几句话',
        resultText: '"嗯……这里是废墟电台，没什么好说的，大家保重。"你把麦克风放回去，感觉轻了一点。',
        mood: 15,
        sanity: 20,
      },
      {
        id: 'take_parts',
        text: '拆走零件',
        resultText: '广播停了。废墟更安静了。',
        mood: -15,
        sanity: -10,
        lootChance: 1.0,
      },
    ],
  },
  {
    id: 'corporate_video',
    text: '一台嵌在墙里的显示器自动播放着企业培训录像："欢迎加入末日生存有限公司！第一课：积极心态是最重要的生存技能……"',
    choices: [
      {
        id: 'watch',
        text: '认真观看（70%感悟）',
        resultText: '',
        luckCheck: {
          threshold: 0.7,
          successText: '你居然在这种地方受到了激励。目标感油然而生，虽然你也不确定目标是什么。',
          failText: '看完第三集后你意识到这是骗局，心情极差，但也更清醒了。',
          successMood: 18,
          successSanity: 8,
          failMood: -12,
          failSanity: 10,
        },
      },
      {
        id: 'skip',
        text: '快进到结尾',
        resultText: '"恭喜你完成全部培训！证书已发放至您的废土信箱。"信箱不存在。',
        mood: 5,
        sanity: -3,
      },
      {
        id: 'smash',
        text: '砸掉屏幕',
        resultText: '安静了。',
        mood: 10,
        sanity: -5,
        lootChance: 0.3,
      },
    ],
  },
  {
    id: 'expired_lottery',
    text: '你在废墟中发现一张彩票，对照旁边贴着的过期号码，——你中了头奖。奖金：一千万。问题是，那家彩票机构已经不存在了。',
    choices: [
      {
        id: 'find_office',
        text: '去找他们的兑奖站（50%成功）',
        resultText: '',
        luckCheck: {
          threshold: 0.5,
          successText: '你找到了一处满是灰尘的兑奖站，里面还剩一些现金，被你全取走了。',
          failText: '走了很远只找到一个被烧光的废墟，还遇上了流氓，身上的钱被抢走一部分。',
          successMood: 20,
          successMoney: 500,
          failMood: -10,
          failMoney: -120,
        },
      },
      {
        id: 'keep',
        text: '夹进口袋当纪念品',
        resultText: '万一哪天世界重建了呢？',
        mood: 8,
        sanity: 3,
      },
      {
        id: 'burn',
        text: '点火烧掉',
        resultText: '火苗烧了大约两秒。你看着它，平静得出乎意料。',
        sanity: 10,
        mood: -3,
      },
    ],
  },
  {
    id: 'graffiti_dare',
    text: '一面墙上用红色涂料写着："你根本不敢继续往前走。" 落款：无名氏，写于第三年。',
    choices: [
      {
        id: 'continue',
        text: '继续往前走，就是为了证明他错了',
        resultText: '你走过了那面墙。不知为何心情好了很多。',
        mood: 15,
        sanity: 5,
      },
      {
        id: 'write_back',
        text: '在旁边写：你也不敢留下名字',
        resultText: '你在旁边留下了这句话，感觉赢了。',
        mood: 20,
        sanity: 8,
      },
      {
        id: 'ponder',
        text: '站在原地想了五分钟',
        resultText: '你不确定自己有没有被激怒，但确实没动。这很诚实。',
        sanity: 5,
        mood: -5,
      },
    ],
  },
  {
    id: 'rusty_gym',
    text: '一处废弃健身房，器械大多生锈，但有一套哑铃居然还完好。镜子里的你看起来很憔悴。',
    choices: [
      {
        id: 'workout',
        text: '硬撑做一套（消耗8饱食，40%成功）',
        req: { stat: 'satiety', val: 8 },
        resultText: '',
        luckCheck: {
          threshold: 0.4,
          successText: '你完成了一套有点惨烈的训练，汗水流下来，反而感觉清醒了。',
          failText: '举到一半肌肉拉伤，哑铃砸到了脚。',
          successMood: 20,
          successSanity: 12,
          successHp: 5,
          failHp: -10,
          failMood: -8,
        },
      },
      {
        id: 'rest',
        text: '在长椅上躺一会儿',
        resultText: '肌肉没有锻炼，但心理得到了休息。',
        mood: 10,
        sanity: 10,
      },
      {
        id: 'mirror',
        text: '对着镜子发呆',
        resultText: '你在镜子里看自己看了很久，然后砸碎了它。',
        mood: -5,
        sanity: -8,
        lootChance: 0.2,
      },
    ],
  },
  {
    id: 'system_update',
    text: '空气中突然浮现出一个全息弹窗："系统更新可用 v4.1.2 末日补丁。新功能：意义感 +15%。预计安装时间：永远。是否立即更新？"',
    choices: [
      {
        id: 'update',
        text: '点击"立即更新"（50%成功）',
        resultText: '',
        luckCheck: {
          threshold: 0.5,
          successText: '"更新完成。检测到内心空洞已修复17%。"你感觉好一点了，虽然原理不明。',
          failText: '"更新失败。错误代码：HUMANITY_NOT_FOUND。"弹窗消失了，你看了一会儿空气。',
          successMood: 20,
          successSanity: 20,
          failSanity: -8,
          failMood: -5,
        },
      },
      {
        id: 'later',
        text: '点击"稍后提醒我"',
        resultText: '"好的，将在1分钟后再次提醒您。" 你继续走，弹窗跟着你漂移了整整三十秒。',
        mood: 5,
        sanity: -5,
      },
      {
        id: 'decline',
        text: '强制关闭弹窗',
        resultText: '"强制关闭需要管理员权限。" 你挥手打散了全息影像。它是假的，但手感很实在。',
        mood: 8,
        sanity: 5,
      },
    ],
  },
];
